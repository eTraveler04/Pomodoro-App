<!DOCTYPE html>
<html>
  <head>
    <title>Pomodoro APP</title>
    <link rel="stylesheet" href="styles/style.css" />
    <link rel="stylesheet" href="styles/settings.css" />
    <link rel="stylesheet" href="styles/tasks.css" />
  </head>
  <body>
    <!-- HEADER -->
    <div class="header">
      <div>
        <img
          src="rest/nowenowelogo-removebg-preview.png"
          alt="POMODORO Logo"
          class="pomodoro_logo"
        />
      </div>
      <div class="header-buttons">
        <button id="openTasksModalBtn">Tasks</button>
        <button id="openModalBtn">Settings</button>
        <button onclick="alert('jakiś problem?')">Report</button>
      </div>
    </div>

    <div class="grid-container">
      <!-- POMODORO -->

      <div class="box">
        <div class="upper_buttons">
          <button
            class="toggle-button"
            id="pomodoro-button"
            onclick="pomodoro()"
          >
            POMODORO
          </button>
          <button
            class="toggle-button"
            id="shortBreak-btn"
            onclick="shortBreak()"
          >
            SHORT BREAK
          </button>
          <button
            class="toggle-button"
            id="longBreak-btn"
            onclick="longBreak()"
          >
            LONG BREAK
          </button>
        </div>
        <div class="jstimer">
          <p id="timer">25:00</p>
        </div>
        <div class="lower_buttons">
          <button class="start_btn" id="pomodoro_btn">START</button>
        </div>
      </div>
    </div>

    <!-- Tasks Modal -->
    <div id="tasksModal" class="taskModal">
      <div class="task-content">
        <!-- Close Modal Button -->
        <div class="close-btn-div">
          <div></div>
          <button class="close-btn" id="closeTasksModalBtn">X</button>
        </div>
        <!-- Button to show the task form -->
        <div class="addTaskBtn">
          <button id="showFormButton" onclick="showForm()">Add New Task</button>
        </div>

        <!-- Task input form, initially hidden -->
        <div id="taskForm" style="display: none">
          <input
            type="text"
            id="taskTitle"
            placeholder="What's the task title?"
            maxlength="16"
          />
          <p style="font-size: 20px; padding-left: 10px">
            Task Duration (pomodoros)
          </p>

          <div class="taskDurationDiv">
            <input type="number" id="taskDuration" value="1" min="1" />
            <button id="taskDurationIncreaseBtn">
              <img src="rest/bxs-up-arrow.png" />
            </button>
            <button id="taskDurationDecreaseBtn">
              <img src="rest/bxs-down-arrow.png" />
            </button>
          </div>

          <p style="font-size: 20px; padding-left: 10px">
            Choose length of this pomodoro cycle
          </p>

          <div class="taskDurationDiv">
            <input type="number" id="taskDuration1" value="25" min="1" />
            <button id="taskDurationIncreaseBtn1">
              <img src="rest/bxs-up-arrow.png" />
            </button>
            <button id="taskDurationDecreaseBtn1">
              <img src="rest/bxs-down-arrow.png" />
            </button>
          </div>

          <button id="cancelTaskBtn" onclick="cancelTaskBtn()">Cancel</button>
          <button id="createTaskBtn" onclick="addTask()">Add</button>
        </div>

        <div class="taskShowDiv">
          <h1 class="ls">Task List</h1>
          <button class="clearTasksBtn" onclick="clearTasks()">Clear</button>
          <div id="task-display"></div>
        </div>
      </div>
    </div>
    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
      <div class="modal-content">
        <!-- Close Modal Button -->
        <div class="close-btn-div">
          <div></div>
          <button id="closeModalBtn" class="close-btn" id="closeTasksModalBtn">
            X
          </button>
        </div>
        <h2>Time(minutes)</h2>

        <div class="pomodoro_grid">
          <label for="pomodoro">Pomodoro</label>
          <label for="pomodoro">Short Break</label>
          <label for="pomodoro">Long Break</label>

          <input
            type="number"
            id="pomodoro_input"
            min="1"
            max="60"
            value="25"
          />
          <input
            type="number"
            id="shortBreak_input"
            min="1"
            max="60"
            value="5"
          />
          <input
            type="number"
            id="longBreak_input"
            min="1"
            max="60"
            value="10"
          />

          <input type="color" id="pomodoroColorControl" />
          <input type="color" id="shortBreakColorControl" />
          <input type="color" id="longBreakColorControl" />
        </div>

        <div class="volume_control">
          <label class="volumeLabel" for="volumeControl">Volume:</label>
          <select id="alarmList">
            <option value="alarm1">alarm 1</option>
            <option value="alarm2">alarm 2</option>
            <option value="alarm3">alarm 3</option>
            <option value="alarm4">alarm 4</option>
          </select>
          <input
            type="range"
            id="volumeControl"
            min="0"
            max="1"
            step="0.01"
            value="1"
          />
        </div>
      </div>
    </div>

    <script>
      // Otwórz modal SETTINGS
      document
        .getElementById('openModalBtn')
        .addEventListener('click', function () {
          document.getElementById('settingsModal').style.display = 'flex';
        });

      // Zamknij modal
      document
        .getElementById('closeModalBtn')
        .addEventListener('click', function () {
          document.getElementById('settingsModal').style.display = 'none';
        });

      // Zamknij modal, gdy klikniesz poza nim
      window.onclick = function (event) {
        const modal = document.getElementById('settingsModal');
        if (event.target == modal) {
          modal.style.display = 'none';
        }
      };
    </script>
    <script src="script/tasks.js"></script>
    <script src="script/script.js"></script>
    <script src="script/buttons.js"></script>
  </body>
</html>
